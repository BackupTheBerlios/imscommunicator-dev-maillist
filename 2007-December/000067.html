<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Imscommunicator-dev] Registration problem with	ims-communicator-071120
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/imscommunicator-dev/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:imscommunicator-dev%40lists.berlios.de?Subject=Re%3A%20%5BImscommunicator-dev%5D%20Registration%20problem%20with%0A%09ims-communicator-071120&In-Reply-To=%3C000101c834ee%2473360500%240200a8c0%40fenotebook%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000069.html">
   <LINK REL="Next"  HREF="000070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Imscommunicator-dev] Registration problem with	ims-communicator-071120</H1>
    <B>Franz Edler</B> 
    <A HREF="mailto:imscommunicator-dev%40lists.berlios.de?Subject=Re%3A%20%5BImscommunicator-dev%5D%20Registration%20problem%20with%0A%09ims-communicator-071120&In-Reply-To=%3C000101c834ee%2473360500%240200a8c0%40fenotebook%3E"
       TITLE="[Imscommunicator-dev] Registration problem with	ims-communicator-071120">franz.edler at inode.at
       </A><BR>
    <I>Sun Dec  2 15:20:11 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000069.html">[Imscommunicator-dev] No reponse to PRACK sent
</A></li>
        <LI>Next message: <A HREF="000070.html">[Imscommunicator-dev] r81 - in	trunk/ims-communicator/src/net/java/sip/communicator: . gui	gui/config/xml sip sip/reg sip/security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67">[ date ]</a>
              <a href="thread.html#67">[ thread ]</a>
              <a href="subject.html#67">[ subject ]</a>
              <a href="author.html#67">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello developers,

I recently downloaded ims-communicator-071120 for WindowsXP and detected a
problem during registration. In case the second REGISTER (including the
response) does not succeed due to not matching response the repetition of
the REGISTRATION does never work. The repetition is rejected by HSS because
the Public User Identity in To header field is wrong in that case. It has a
bad format: it contains the domain-part twice. Instead of
&quot;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/imscommunicator-dev">alice at net1.test</A>&quot; it is offered as &quot;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/imscommunicator-dev">alice at net1.test</A>@net1.test&quot;.

See also the attached tcpdump-trace of such a situation:
- packet 15, 23 and 35 show the REGISTER request with correct Public User
Identity in To and From header field
- packet 49 shows the repeated REGISTER request with errornous To and From
header field

Regards
Franz
-------------- next part --------------
A non-text attachment was scrubbed...
Name: registration_issue.zip
Type: application/x-zip-compressed
Size: 4743 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/imscommunicator-dev/attachments/20071202/00398773/attachment.bin">https://lists.berlios.de/pipermail/imscommunicator-dev/attachments/20071202/00398773/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000069.html">[Imscommunicator-dev] No reponse to PRACK sent
</A></li>
	<LI>Next message: <A HREF="000070.html">[Imscommunicator-dev] r81 - in	trunk/ims-communicator/src/net/java/sip/communicator: . gui	gui/config/xml sip sip/reg sip/security
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#67">[ date ]</a>
              <a href="thread.html#67">[ thread ]</a>
              <a href="subject.html#67">[ subject ]</a>
              <a href="author.html#67">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/imscommunicator-dev">More information about the Imscommunicator-dev
mailing list</a><br>
</body></html>
